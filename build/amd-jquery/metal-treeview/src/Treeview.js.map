{"version":3,"sources":["Treeview.js"],"names":["Treeview","getNodeObj","path","obj","nodes","i","length","children","handleNodeClicked_","event","toggleExpandedState_","delegateTarget","parentNode","handleNodeKeyUp_","keyCode","stopPropagation","node","getAttribute","split","nodeObj","expanded","register","STATE","validator","Array","isArray","valueFn"],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KASMA,Q;;;;;;;;;qBAQLC,U,uBAAWC,I,EAAM;AAChB,OAAIC,MAAM,KAAKC,KAAL,CAAWF,KAAK,CAAL,CAAX,CAAV;AACA,QAAK,IAAIG,IAAI,CAAb,EAAgBA,IAAIH,KAAKI,MAAzB,EAAiCD,GAAjC,EAAsC;AACrCF,UAAMA,IAAII,QAAJ,CAAaL,KAAKG,CAAL,CAAb,CAAN;AACA;AACD,UAAOF,GAAP;AACA,G;;qBAODK,kB,+BAAmBC,K,EAAO;AACzB,QAAKC,oBAAL,CAA0BD,MAAME,cAAN,CAAqBC,UAArB,CAAgCA,UAA1D;AACA,G;;qBAQDC,gB,6BAAiBJ,K,EAAO;AACvB,OAAIA,MAAMK,OAAN,KAAkB,EAAlB,IAAwBL,MAAMK,OAAN,KAAkB,EAA9C,EAAkD;AACjD,SAAKJ,oBAAL,CAA0BD,MAAME,cAAhC;AACAF,UAAMM,eAAN;AACA;AACD,G;;qBAODL,oB,iCAAqBM,I,EAAM;AAC1B,OAAId,OAAOc,KAAKC,YAAL,CAAkB,oBAAlB,EAAwCC,KAAxC,CAA8C,GAA9C,CAAX;AACA,OAAIC,UAAU,KAAKlB,UAAL,CAAgBC,IAAhB,CAAd;AACAiB,WAAQC,QAAR,GAAmB,CAACD,QAAQC,QAA5B;AACA,QAAKhB,KAAL,GAAa,KAAKA,KAAlB;AACA,G;;;;;AAEF,eAAIiB,QAAJ,CAAarB,QAAb;;AAEA;;;;;AAKAA,UAASsB,KAAT,GAAiB;AAChB;;;;;;;AAOAlB,SAAO;AACNmB,cAAWC,MAAMC,OADX;AAENC,YAAS,mBAAW;AACnB,WAAO,EAAP;AACA;AAJK;AARS,EAAjB;;mBAgBe1B,Q;AACoD,yBAAcqB,QAAd,CAAuB,UAAvB,EAAmCrB,QAAnC","file":"node_modules/metal-treeview/src/Treeview.js","sourcesContent":["'use strict';\n\nimport templates from './Treeview.soy.js';\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\n/**\n * Treeview component.\n */\nclass Treeview extends Component {\n\t/**\n\t * Gets the node object from the `nodes` state that is located at the given\n\t * index path.\n\t * @param {!Array<number>} path An array of indexes indicating where the searched\n\t *   node is located inside the `nodes` state.\n\t * @return {!Object}\n\t */\n\tgetNodeObj(path) {\n\t\tvar obj = this.nodes[path[0]];\n\t\tfor (var i = 1; i < path.length; i++) {\n\t\t\tobj = obj.children[path[i]];\n\t\t}\n\t\treturn obj;\n\t}\n\n\t/**\n\t * This is called when one of this tree view's nodes is clicked.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleNodeClicked_(event) {\n\t\tthis.toggleExpandedState_(event.delegateTarget.parentNode.parentNode);\n\t}\n\n\t/**\n\t * This is called when one of this tree view's nodes receives a keypress.\n\t * If the pressed key is ENTER or SPACE, the node's expanded state will be toggled.\n\t * @param {!Event} event\n\t * @protected\n\t */\n\thandleNodeKeyUp_(event) {\n\t\tif (event.keyCode === 13 || event.keyCode === 32) {\n\t\t\tthis.toggleExpandedState_(event.delegateTarget);\n\t\t\tevent.stopPropagation();\n\t\t}\n\t}\n\n\t/**\n\t * Toggles the expanded state for the given tree node.\n\t * @param {!Element} node\n\t * @protected\n\t */\n\ttoggleExpandedState_(node) {\n\t\tvar path = node.getAttribute('data-treeview-path').split('-');\n\t\tvar nodeObj = this.getNodeObj(path);\n\t\tnodeObj.expanded = !nodeObj.expanded;\n\t\tthis.nodes = this.nodes;\n\t}\n}\nSoy.register(Treeview, templates);\n\n/**\n * Treeview state definition.\n * @type {!Object}\n * @static\n */\nTreeview.STATE = {\n\t/**\n\t * This tree view's nodes. Each node should have a name, and can optionally\n\t * have nested children nodes. It should also indicate if its children are\n\t * expanded or not.\n\t * @type {Array<!{children: Array, expanded: boolean?, name: string}>}\n\t * @default []\n\t */\n\tnodes: {\n\t\tvalidator: Array.isArray,\n\t\tvalueFn: function() {\n\t\t\treturn [];\n\t\t}\n\t}\n};\n\nexport default Treeview;\nimport JQueryAdapter from 'metal-jquery-adapter/src/JQueryAdapter';JQueryAdapter.register('treeview', Treeview);"],"sourceRoot":"/source/"}