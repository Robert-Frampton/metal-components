{"version":3,"sources":["Pagination.js"],"names":["Pagination","lastState_","page","on","Events","CHANGE_REQUEST","defaultChangeRequestFn_","event","setState_","state","emit","lastState","offset","total","dispatchRequest_","circular","Math","min","item","delegateTarget","preventDefault","index","parseInt","getAttribute","control","prev","next","max","register","STATE","validator","isBoolean","value","isNumber","showControls","strings","isObject","setter","mixin","nextAriaLabel","prevAriaLabel","val","valueFn"],"mappings":"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","file":"node_modules/metal-pagination/src/Pagination.js","sourcesContent":["'use strict';\n\nimport { core, object } from 'metal';\nimport templates from './Pagination.soy.js';\nimport Component from 'metal-component';\nimport Soy from 'metal-soy';\n\n/**\n * UI Component that navigate through paged data.\n */\nclass Pagination extends Component {\n\t/**\n\t * @inheritDoc\n\t */\n\tcreated() {\n\t\t/**\n\t\t * Contains the previous page value\n\t\t * @type {Object}\n\t\t * @default {page: this.page}\n\t\t */\n\t\tthis.lastState_ = {\n\t\t\tpage: this.page\n\t\t};\n\n\t\tthis.on(Pagination.Events.CHANGE_REQUEST, this.defaultChangeRequestFn_, true);\n\t}\n\n\t/**\n\t * Default `changeRequest` function, sets new state of pagination.\n\t * @param {EventFacade} event\n\t * @protected\n\t */\n\tdefaultChangeRequestFn_(event) {\n\t\tthis.setState_(event.state);\n\t}\n\n\t/**\n\t * Fires `changeRequest` event.\n\t * @param {Object} state\n\t * @protected\n\t */\n\tdispatchRequest_(state) {\n\t\tthis.emit(\n\t\t\tPagination.Events.CHANGE_REQUEST,\n\t\t\t{\n\t\t\t\tlastState: this.lastState_,\n\t\t\t\toffset: this.offset,\n\t\t\t\tstate: state,\n\t\t\t\ttotal: this.total\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * Retrieve page number including offset e.g., if offset is 100 and\n\t * active page is 5, this method returns 105.\n\t * @return {number} current page number plus offset\n\t */\n\tgetOffsetPageNumber() {\n\t\treturn this.offset + this.page;\n\t}\n\n\t/**\n\t * Retrieve total number of pages including offset e.g., if offset is\n\t * 100 and total 10, this method returns 110.\n\t * @return {number} total page number plus offset\n\t */\n\tgetOffsetTotalPages() {\n\t\treturn this.offset + this.total;\n\t}\n\n\t/**\n\t* Navigate to the next page.\n\t*/\n\tnext() {\n\t\tvar page = this.page,\n\t\t\ttotal = this.total;\n\n\t\tthis.dispatchRequest_({\n\t\t\tpage: (this.circular && (page === total - 1)) ? 0 : Math.min(total, ++page)\n\t\t});\n\t}\n\n\t/**\n\t * `onClick` handler for pagination items.\n\t * @param {EventFacade} event\n\t */\n\tonClickItem(event) {\n\t\tvar item = event.delegateTarget;\n\n\t\tevent.preventDefault();\n\n\t\tvar index = parseInt(item.getAttribute('data-index'));\n\n\t\tthis.dispatchRequest_({\n\t\t\tpage: index\n\t\t});\n\t}\n\n\t/**\n\t * `onClick` handler for pagination items.\n\t * @param {EventFacade} event\n\t */\n\tonClickControls(event) {\n\t\tvar control = event.delegateTarget;\n\n\t\tevent.preventDefault();\n\n\t\tvar index = parseInt(control.getAttribute('data-control-index'));\n\n\t\tswitch (index) {\n\t\t\tcase 0:\n\t\t\t\tthis.prev();\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tthis.next();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * Navigate to the previous page.\n\t */\n\tprev() {\n\t\tvar page = this.page,\n\t\t\ttotal = this.total;\n\n\t\tthis.dispatchRequest_({\n\t\t\tpage: (this.circular && (page === 0)) ? total - 1 : Math.max(0, --page)\n\t\t});\n\t}\n\n\t/**\n\t * Set the new pagination state. The state is a payload object\n\t * containing the page number, e.g. `{page:1}`.\n\t * @param {Object} state\n\t * @return {Object}\n\t * @protected\n\t */\n\tsetState_(state) {\n\t\tthis.page = state.page;\n\n\t\tthis.lastState_ = state;\n\t}\n}\nSoy.register(Pagination, templates);\n\n/**\n * State definition.\n * @type {!Object}\n * @static\n */\nPagination.STATE = {\n\t/**\n\t * When enabled this property allows the navigation to go back to\n\t * the beggining when it reaches the last page, the opposite behavior\n\t * is also true. Incremental page navigation could happen clicking the\n\t * control arrows or invoking <code>.next()</code> and\n\t * <code>.prev()</code> methods.\n\t * @type {boolean}\n\t * @default true\n\t */\n\tcircular: {\n\t\tvalidator: core.isBoolean,\n\t\tvalue: true\n\t},\n\n\t/**\n\t * Initial page offset.\n\t * @type {number}\n\t * @default 1\n\t */\n\toffset: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 1\n\t},\n\n\t/**\n\t * Page to display on initial paint.\n\t * @type {number}\n\t * @default 0\n\t */\n\tpage: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 0\n\t},\n\n\t/**\n\t * Determines if pagination controls (Next and Prev) are rendered.\n\t * @type {boolean}\n\t * @default true\n\t */\n\tshowControls: {\n\t\tvalidator: core.isBoolean,\n\t\tvalue: true\n\t},\n\n\t/**\n\t * Collection of strings used to label elements of the UI.\n\t * @type {Object}\n\t * @default {next: 'Next', prev: 'Prev'}\n\t */\n\tstrings: {\n\t\tvalidator: core.isObject,\n\t\tsetter: val => {\n\t\t\treturn object.mixin(\n\t\t\t\t{\n\t\t\t\t\tnext: 'Next',\n\t\t\t\t\tnextAriaLabel: 'Next',\n\t\t\t\t\tprev: 'Prev',\n\t\t\t\t\tprevAriaLabel: 'Previous'\n\t\t\t\t},\n\t\t\t\tval\n\t\t\t);\n\t\t},\n\t\tvalueFn: () => {}\n\t},\n\n\t/**\n\t * Total number of page links available. If set, the new\n\t * <a href=\"Pagination.html#config_items\">items</a> node list will\n\t * be rendered.\n\t * @type {number}\n\t * @default 0\n\t */\n\ttotal: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 0\n\t}\n};\n\nPagination.Events = {\n\tCHANGE_REQUEST: 'changeRequest'\n};\n\nexport default Pagination;\n"],"sourceRoot":"/source/"}