{"version":3,"sources":["dom.js"],"names":["addClasses","closest","append","buildFragment","contains","delegate","enterDocument","exitDocument","hasClass","isEmpty","match","next","on","once","parent","registerCustomEvent","removeChildren","removeClasses","replace","supportsEvent","toElement","toggleClasses","triggerEvent","elementsByTag_","customEvents","NEXT_TARGET","USE_CAPTURE","blur","error","focus","invalid","load","scroll","elements","classes","length","i","addClassesWithNative_","addClassesWithoutNative_","element","split","forEach","className","classList","add","elementClassName","classesToAppend","indexOf","addElementListener_","eventName","listener","data","get","addToArr_","listeners","addSelectorListener_","selector","delegating","selectors","arr","key","value","push","attachDelegateEvent_","handle","handleDelegateEvent_","parentNode","child","NodeList","childArr","Array","prototype","slice","call","appendChild","htmlString","tempDiv","document","createElement","innerHTML","removeChild","firstChild","fragment","createDocumentFragment","element1","element2","documentElement","selectorOrTarget","callback","opt_default","customConfig","originalEvent","handler","bind","defaultListener_","isAbleToInteractWith_","node","currElement","isAble","matchesSelector","disabled","body","event","normalizeDelegateEvent_","target","ret","container","currentTarget","limit","defFns","stopped","delegateTarget","triggerMatchedListeners_","defaultPrevented","fn","hasClassWithNative_","hasClassWithoutNative_","childNodes","nodeType","p","Element","m","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","matchFallback_","nodes","querySelectorAll","nextSibling","stopPropagation","stopPropagation_","stopImmediatePropagation","stopImmediatePropagation_","opt_capture","addEventListener","domEventHandle","removeListener","apply","arguments","removeClassesWithNative_","removeClassesWithoutNative_","remove","trim","insertBefore","stoppedImmediate","Event","selectorOrElement","getElementById","substr","querySelector","toggleClassesWithNative_","toggleClassesWithoutNative_","toggle","classIndex","substring","opt_eventObj","eventObj","createEvent","initEvent","mixin","dispatchEvent","triggerListeners_","defaultFns","type","button","selectorsMap","Object","keys"],"mappings":"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","file":"node_modules/metal-dom/src/dom.js","sourcesContent":["'use strict';\n\nimport { isDef, isDocument, isElement, isObject, isString, object } from 'metal';\nimport domData from './domData';\nimport DomDelegatedEventHandle from './DomDelegatedEventHandle';\nimport DomEventHandle from './DomEventHandle';\n\nconst elementsByTag_ = {};\nexport const customEvents = {};\n\nconst NEXT_TARGET = '__metal_next_target__';\nconst USE_CAPTURE = {\n\tblur: true,\n\terror: true,\n\tfocus: true,\n\tinvalid: true,\n\tload: true,\n\tscroll: true\n};\n\n/**\n * Adds the requested CSS classes to an element.\n * @param {!Element|!Nodelist} elements The element or elements to add CSS classes to.\n * @param {string} classes CSS classes to add.\n */\nexport function addClasses(elements, classes) {\n\tif (!isObject(elements) || !isString(classes)) {\n\t\treturn;\n\t}\n\n\tif (!elements.length) {\n\t\telements = [elements];\n\t}\n\n\tfor (let i = 0; i < elements.length; i++) {\n\t\tif ('classList' in elements[i]) {\n\t\t\taddClassesWithNative_(elements[i], classes);\n\t\t} else {\n\t\t\taddClassesWithoutNative_(elements[i], classes);\n\t\t}\n\t}\n}\n\n/**\n * Adds the requested CSS classes to an element using classList.\n * @param {!Element} element The element to add CSS classes to.\n * @param {string} classes CSS classes to add.\n * @private\n */\nfunction addClassesWithNative_(element, classes) {\n\tclasses.split(' ').forEach(function(className) {\n\t\tif (className) {\n\t\t\telement.classList.add(className);\n\t\t}\n\t});\n}\n\n/**\n * Adds the requested CSS classes to an element without using classList.\n * @param {!Element} element The element to add CSS classes to.\n * @param {string} classes CSS classes to add.\n * @private\n */\nfunction addClassesWithoutNative_(element, classes) {\n\tvar elementClassName = ' ' + element.className + ' ';\n\tvar classesToAppend = '';\n\n\tclasses = classes.split(' ');\n\n\tfor (var i = 0; i < classes.length; i++) {\n\t\tvar className = classes[i];\n\n\t\tif (elementClassName.indexOf(' ' + className + ' ') === -1) {\n\t\t\tclassesToAppend += ' ' + className;\n\t\t}\n\t}\n\n\tif (classesToAppend) {\n\t\telement.className = element.className + classesToAppend;\n\t}\n}\n\n/**\n * Adds an event listener to the given element, to be triggered via delegate.\n * @param {!Element} element\n * @param {string} eventName\n * @param {!function()} listener\n * @private\n */\nfunction addElementListener_(element, eventName, listener) {\n\tvar data = domData.get(element);\n\taddToArr_(data.listeners, eventName, listener);\n}\n\n/**\n * Adds an event listener to the given element, to be triggered via delegate\n * selectors.\n * @param {!Element} element\n * @param {string} eventName\n * @param {string} selector\n * @param {!function()} listener\n * @private\n */\nfunction addSelectorListener_(element, eventName, selector, listener) {\n\tvar data = domData.get(element);\n\taddToArr_(data.delegating[eventName].selectors, selector, listener);\n}\n\n/**\n * Adds a value to an array inside an object, creating it first if it doesn't\n * yet exist.\n * @param {!Array} arr\n * @param {string} key\n * @param {*} value\n * @private\n */\nfunction addToArr_(arr, key, value) {\n\tif (!arr[key]) {\n\t\tarr[key] = [];\n\t}\n\tarr[key].push(value);\n}\n\n/**\n * Attaches a delegate listener, unless there's already one attached.\n * @param {!Element} element\n * @param {string} eventName\n * @private\n */\nfunction attachDelegateEvent_(element, eventName) {\n\tvar data = domData.get(element);\n\tif (!data.delegating[eventName]) {\n\t\tdata.delegating[eventName] = {\n\t\t\thandle: on(\n\t\t\t\telement,\n\t\t\t\teventName,\n\t\t\t\thandleDelegateEvent_,\n\t\t\t\t!!USE_CAPTURE[eventName]\n\t\t\t),\n\t\t\tselectors: {}\n\t\t};\n\t}\n}\n\n/**\n * Gets the closest element up the tree from the given element (including\n * itself) that matches the specified selector, or null if none match.\n * @param {Element} element\n * @param {string} selector\n * @return {Element}\n */\nexport function closest(element, selector) {\n\twhile (element && !match(element, selector)) {\n\t\telement = element.parentNode;\n\t}\n\treturn element;\n}\n\n/**\n * Appends a child node with text or other nodes to a parent node. If\n * child is a HTML string it will be automatically converted to a document\n * fragment before appending it to the parent.\n * @param {!Element} parent The node to append nodes to.\n * @param {!(Element|NodeList|string)} child The thing to append to the parent.\n * @return {!Element} The appended child.\n */\nexport function append(parent, child) {\n\tif (isString(child)) {\n\t\tchild = buildFragment(child);\n\t}\n\tif (child instanceof NodeList) {\n\t\tvar childArr = Array.prototype.slice.call(child);\n\t\tfor (var i = 0; i < childArr.length; i++) {\n\t\t\tparent.appendChild(childArr[i]);\n\t\t}\n\t} else {\n\t\tparent.appendChild(child);\n\t}\n\treturn child;\n}\n\n/**\n * Helper for converting a HTML string into a document fragment.\n * @param {string} htmlString The HTML string to convert.\n * @return {!Element} The resulting document fragment.\n */\nexport function buildFragment(htmlString) {\n\tvar tempDiv = document.createElement('div');\n\ttempDiv.innerHTML = '<br>' + htmlString;\n\ttempDiv.removeChild(tempDiv.firstChild);\n\n\tvar fragment = document.createDocumentFragment();\n\twhile (tempDiv.firstChild) {\n\t\tfragment.appendChild(tempDiv.firstChild);\n\t}\n\treturn fragment;\n}\n\n/**\n * Checks if the first element contains the second one.\n * @param {!Element} element1\n * @param {!Element} element2\n * @return {boolean}\n */\nexport function contains(element1, element2) {\n\tif (isDocument(element1)) {\n\t\t// document.contains is not defined on IE9, so call it on documentElement instead.\n\t\treturn element1.documentElement.contains(element2);\n\t} else {\n\t\treturn element1.contains(element2);\n\t}\n}\n\n/**\n * Listens to the specified event on the given DOM element, but only calls the\n * given callback listener when it's triggered by elements that match the\n * given selector or target element.\n * @param {!Element} element The DOM element the event should be listened on.\n * @param {string} eventName The name of the event to listen to.\n * @param {!Element|string} selectorOrTarget Either an element or css selector\n *     that should match the event for the listener to be triggered.\n * @param {!function(!Object)} callback Function to be called when the event\n *     is triggered. It will receive the normalized event object.\n * @param {boolean=} opt_default Optional flag indicating if this is a default\n *     listener. That means that it would only be executed after all non\n *     default listeners, and only if the event isn't prevented via\n *     `preventDefault`.\n * @return {!EventHandle} Can be used to remove the listener.\n */\nexport function delegate(element, eventName, selectorOrTarget, callback, opt_default) {\n\tvar customConfig = customEvents[eventName];\n\tif (customConfig && customConfig.delegate) {\n\t\teventName = customConfig.originalEvent;\n\t\tcallback = customConfig.handler.bind(customConfig, callback);\n\t}\n\n\tif (opt_default) {\n\t\t// Wrap callback so we don't set property directly on it.\n\t\tcallback = callback.bind();\n\t\tcallback.defaultListener_ = true;\n\t}\n\n\tattachDelegateEvent_(element, eventName);\n\tif (isString(selectorOrTarget)) {\n\t\taddSelectorListener_(element, eventName, selectorOrTarget, callback);\n\t} else {\n\t\taddElementListener_(selectorOrTarget, eventName, callback);\n\t}\n\n\treturn new DomDelegatedEventHandle(\n\t\tisString(selectorOrTarget) ? element : selectorOrTarget,\n\t\teventName,\n\t\tcallback,\n\t\tisString(selectorOrTarget) ? selectorOrTarget : null\n\t);\n}\n\n/**\n * Verifies if the element is able to trigger the Click event,\n * simulating browsers behaviour, avoiding event listeners to be called by triggerEvent method.\n * @param {Element} node Element to be checked.\n * @param {string} eventName The event name.\n * @private\n */\nfunction isAbleToInteractWith_(node, eventName) {\n\tvar currElement = node;\n\tvar isAble = true;\n\tvar matchesSelector = 'button, input, select, textarea, fieldset';\n\n\tif (eventName === 'click') {\n\t\twhile (currElement) {\n\t\t\tif (currElement.disabled && match(currElement, matchesSelector)) {\n\t\t\t\tisAble = false;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcurrElement = currElement.parentNode;\n\t\t}\n\t}\n\n\treturn isAble;\n}\n\n/**\n * Inserts node in document as last element.\n * @param {Element} node Element to remove children from.\n */\nexport function enterDocument(node) {\n\tnode && append(document.body, node);\n}\n\n/**\n * Removes node from document.\n * @param {Element} node Element to remove children from.\n */\nexport function exitDocument(node) {\n\tif (node && node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * This is called when an event is triggered by a delegate listener. All\n * matching listeners of this event type from `target` to `currentTarget` will\n * be triggered.\n * @param {!Event} event The event payload.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction handleDelegateEvent_(event) {\n\tnormalizeDelegateEvent_(event);\n\tvar currElement = isDef(event[NEXT_TARGET]) ?\n\t\tevent[NEXT_TARGET] :\n\t\tevent.target;\n\tvar ret = true;\n\tvar container = event.currentTarget;\n\tvar limit = event.currentTarget.parentNode;\n\tvar defFns = [];\n\n\twhile (currElement && currElement !== limit && !event.stopped) {\n\t\tevent.delegateTarget = currElement;\n\t\tret &= triggerMatchedListeners_(container, currElement, event, defFns);\n\t\tcurrElement = currElement.parentNode;\n\t}\n\n\tfor (var i = 0; i < defFns.length && !event.defaultPrevented; i++) {\n\t\tevent.delegateTarget = defFns[i].element;\n\t\tret &= defFns[i].fn(event);\n\t}\n\n\tevent.delegateTarget = null;\n\tevent[NEXT_TARGET] = limit;\n\treturn ret;\n}\n\n/**\n * Checks if the given element has the requested css class.\n * @param {!Element} element\n * @param {string} className\n * @return {boolean}\n */\nexport function hasClass(element, className) {\n\tif ('classList' in element) {\n\t\treturn hasClassWithNative_(element, className);\n\t} else {\n\t\treturn hasClassWithoutNative_(element, className);\n\t}\n}\n\n/**\n * Checks if the given element has the requested css class using classList.\n * @param {!Element} element\n * @param {string} className\n * @return {boolean}\n * @private\n */\nfunction hasClassWithNative_(element, className) {\n\treturn element.classList.contains(className);\n}\n\n/**\n * Checks if the given element has the requested css class without using classList.\n * @param {!Element} element\n * @param {string} className\n * @return {boolean}\n * @private\n */\nfunction hasClassWithoutNative_(element, className) {\n\treturn (' ' + element.className + ' ').indexOf(' ' + className + ' ') >= 0;\n}\n\n/**\n * Checks if the given element is empty or not.\n * @param {!Element} element\n * @return {boolean}\n */\nexport function isEmpty(element) {\n\treturn element.childNodes.length === 0;\n}\n\n/**\n * Check if an element matches a given selector.\n * @param {Element} element\n * @param {string} selector\n * @return {boolean}\n */\nexport function match(element, selector) {\n\tif (!element || element.nodeType !== 1) {\n\t\treturn false;\n\t}\n\n\tvar p = Element.prototype;\n\tvar m = p.matches || p.webkitMatchesSelector || p.mozMatchesSelector || p.msMatchesSelector || p.oMatchesSelector;\n\tif (m) {\n\t\treturn m.call(element, selector);\n\t}\n\n\treturn matchFallback_(element, selector);\n}\n\n/**\n * Check if an element matches a given selector, using an internal implementation\n * instead of calling existing javascript functions.\n * @param {Element} element\n * @param {string} selector\n * @return {boolean}\n * @private\n */\nfunction matchFallback_(element, selector) {\n\tvar nodes = document.querySelectorAll(selector, element.parentNode);\n\tfor (var i = 0; i < nodes.length; ++i) {\n\t\tif (nodes[i] === element) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\n/**\n * Returns the next sibling of the given element that matches the specified\n * selector, or null if there is none.\n * @param {!Element} element\n * @param {?string} selector\n */\nexport function next(element, selector) {\n\tdo {\n\t\telement = element.nextSibling;\n\t\tif (element && match(element, selector)) {\n\t\t\treturn element;\n\t\t}\n\t} while (element);\n\treturn null;\n}\n\n/**\n * Normalizes the event payload for delegate listeners.\n * @param {!Event} event\n * @private\n */\nfunction normalizeDelegateEvent_(event) {\n\tevent.stopPropagation = stopPropagation_;\n\tevent.stopImmediatePropagation = stopImmediatePropagation_;\n}\n\n/**\n * Listens to the specified event on the given DOM element. This function normalizes\n * DOM event payloads and functions so they'll work the same way on all supported\n * browsers.\n * @param {!Element|string} element The DOM element to listen to the event on, or\n *   a selector that should be delegated on the entire document.\n * @param {string} eventName The name of the event to listen to.\n * @param {!function(!Object)} callback Function to be called when the event is\n *   triggered. It will receive the normalized event object.\n * @param {boolean} opt_capture Flag indicating if listener should be triggered\n *   during capture phase, instead of during the bubbling phase. Defaults to false.\n * @return {!DomEventHandle} Can be used to remove the listener.\n */\nexport function on(element, eventName, callback, opt_capture) {\n\tif (isString(element)) {\n\t\treturn delegate(document, eventName, element, callback);\n\t}\n\tvar customConfig = customEvents[eventName];\n\tif (customConfig && customConfig.event) {\n\t\teventName = customConfig.originalEvent;\n\t\tcallback = customConfig.handler.bind(customConfig, callback);\n\t}\n\telement.addEventListener(eventName, callback, opt_capture);\n\treturn new DomEventHandle(element, eventName, callback, opt_capture);\n}\n\n/**\n * Listens to the specified event on the given DOM element once. This\n * function normalizes DOM event payloads and functions so they'll work the\n * same way on all supported browsers.\n * @param {!Element} element The DOM element to listen to the event on.\n * @param {string} eventName The name of the event to listen to.\n * @param {!function(!Object)} callback Function to be called when the event\n *   is triggered. It will receive the normalized event object.\n * @return {!DomEventHandle} Can be used to remove the listener.\n */\nexport function once(element, eventName, callback) {\n\tvar domEventHandle = on(element, eventName, function() {\n\t\tdomEventHandle.removeListener();\n\t\treturn callback.apply(this, arguments);\n\t});\n\treturn domEventHandle;\n}\n\n/**\n * Gets the first parent from the given element that matches the specified\n * selector, or null if none match.\n * @param {!Element} element\n * @param {string} selector\n * @return {Element}\n */\nexport function parent(element, selector) {\n\treturn closest(element.parentNode, selector);\n}\n\n/**\n * Registers a custom event.\n * @param {string} eventName The name of the custom event.\n * @param {!Object} customConfig An object with information about how the event\n *   should be handled.\n */\nexport function registerCustomEvent(eventName, customConfig) {\n\tcustomEvents[eventName] = customConfig;\n}\n\n/**\n * Removes all the child nodes on a DOM node.\n * @param {Element} node Element to remove children from.\n */\nexport function removeChildren(node) {\n\tvar child;\n\twhile ((child = node.firstChild)) {\n\t\tnode.removeChild(child);\n\t}\n}\n\n/**\n * Removes the requested CSS classes from an element.\n * @param {!Element|!NodeList} elements The element or elements to remove CSS classes from.\n * @param {string} classes CSS classes to remove.\n */\nexport function removeClasses(elements, classes) {\n\tif (!isObject(elements) || !isString(classes)) {\n\t\treturn;\n\t}\n\n\tif (!elements.length) {\n\t\telements = [elements];\n\t}\n\n\tfor (let i = 0; i < elements.length; i++) {\n\t\tif ('classList' in elements[i]) {\n\t\t\tremoveClassesWithNative_(elements[i], classes);\n\t\t} else {\n\t\t\tremoveClassesWithoutNative_(elements[i], classes);\n\t\t}\n\t}\n}\n\n/**\n * Removes the requested CSS classes from an element using classList.\n * @param {!Element} element The element to remove CSS classes from.\n * @param {string} classes CSS classes to remove.\n * @private\n */\nfunction removeClassesWithNative_(element, classes) {\n\tclasses.split(' ').forEach(function(className) {\n\t\tif (className) {\n\t\t\telement.classList.remove(className);\n\t\t}\n\t});\n}\n\n/**\n * Removes the requested CSS classes from an element without using classList.\n * @param {!Element} element The element to remove CSS classes from.\n * @param {string} classes CSS classes to remove.\n * @private\n */\nfunction removeClassesWithoutNative_(element, classes) {\n\tvar elementClassName = ' ' + element.className + ' ';\n\n\tclasses = classes.split(' ');\n\n\tfor (var i = 0; i < classes.length; i++) {\n\t\telementClassName = elementClassName.replace(' ' + classes[i] + ' ', ' ');\n\t}\n\n\telement.className = elementClassName.trim();\n}\n\n/**\n * Replaces the first element with the second.\n * @param {Element} element1\n * @param {Element} element2\n */\nexport function replace(element1, element2) {\n\tif (element1 && element2 && element1 !== element2 && element1.parentNode) {\n\t\telement1.parentNode.insertBefore(element2, element1);\n\t\telement1.parentNode.removeChild(element1);\n\t}\n}\n\n/**\n * The function that replaces `stopImmediatePropagation_` for events.\n * @private\n */\nfunction stopImmediatePropagation_() {\n\tconst event = this; // jshint ignore:line\n\tevent.stopped = true;\n\tevent.stoppedImmediate = true;\n\tEvent.prototype.stopImmediatePropagation.call(event);\n}\n\n/**\n * The function that replaces `stopPropagation` for events.\n * @private\n */\nfunction stopPropagation_() {\n\tconst event = this; // jshint ignore:line\n\tevent.stopped = true;\n\tEvent.prototype.stopPropagation.call(event);\n}\n\n/**\n * Checks if the given element supports the given event type.\n * @param {!Element|string} element The DOM element or element tag name to check.\n * @param {string} eventName The name of the event to check.\n * @return {boolean}\n */\nexport function supportsEvent(element, eventName) {\n\tif (customEvents[eventName]) {\n\t\treturn true;\n\t}\n\n\tif (isString(element)) {\n\t\tif (!elementsByTag_[element]) {\n\t\t\telementsByTag_[element] = document.createElement(element);\n\t\t}\n\t\telement = elementsByTag_[element];\n\t}\n\treturn 'on' + eventName in element;\n}\n\n/**\n * Converts the given argument to a DOM element. Strings are assumed to\n * be selectors, and so a matched element will be returned. If the arg\n * is already a DOM element it will be the return value.\n * @param {string|Element|Document} selectorOrElement\n * @return {Element} The converted element, or null if none was found.\n */\nexport function toElement(selectorOrElement) {\n\tif (isElement(selectorOrElement) || isDocument(selectorOrElement)) {\n\t\treturn selectorOrElement;\n\t} else if (isString(selectorOrElement)) {\n\t\tif (selectorOrElement[0] === '#' && selectorOrElement.indexOf(' ') === -1) {\n\t\t\treturn document.getElementById(selectorOrElement.substr(1));\n\t\t} else {\n\t\t\treturn document.querySelector(selectorOrElement);\n\t\t}\n\t} else {\n\t\treturn null;\n\t}\n}\n\n/**\n * Adds or removes one or more classes from an element. If any of the classes\n * is present, it will be removed from the element, or added otherwise.\n * @param {!Element} element The element which classes will be toggled.\n * @param {string} classes The classes which have to added or removed from the element.\n */\nexport function toggleClasses(element, classes) {\n\tif (!isObject(element) || !isString(classes)) {\n\t\treturn;\n\t}\n\n\tif ('classList' in element) {\n\t\ttoggleClassesWithNative_(element, classes);\n\t} else {\n\t\ttoggleClassesWithoutNative_(element, classes);\n\t}\n}\n\n/**\n * Adds or removes one or more classes from an element using classList.\n * If any of the classes is present, it will be removed from the element,\n * or added otherwise.\n * @param {!Element} element The element which classes will be toggled.\n * @param {string} classes The classes which have to added or removed from the element.\n * @private\n */\nfunction toggleClassesWithNative_(element, classes) {\n\tclasses.split(' ').forEach(function(className) {\n\t\telement.classList.toggle(className);\n\t});\n}\n\n/**\n * Adds or removes one or more classes from an element without using classList.\n * If any of the classes is present, it will be removed from the element,\n * or added otherwise.\n * @param {!Element} element The element which classes will be toggled.\n * @param {string} classes The classes which have to added or removed from the element.\n * @private\n */\nfunction toggleClassesWithoutNative_(element, classes) {\n\tvar elementClassName = ' ' + element.className + ' ';\n\n\tclasses = classes.split(' ');\n\n\tfor (var i = 0; i < classes.length; i++) {\n\t\tvar className = ' ' + classes[i] + ' ';\n\t\tvar classIndex = elementClassName.indexOf(className);\n\n\t\tif (classIndex === -1) {\n\t\t\telementClassName = elementClassName + classes[i] + ' ';\n\t\t} else {\n\t\t\telementClassName = elementClassName.substring(0, classIndex) + ' ' +\n\t\t\t\telementClassName.substring(classIndex + className.length);\n\t\t}\n\t}\n\n\telement.className = elementClassName.trim();\n}\n\n/**\n * Triggers the specified event on the given element.\n * NOTE: This should mostly be used for testing, not on real code.\n * @param {!Element} element The node that should trigger the event.\n * @param {string} eventName The name of the event to be triggred.\n * @param {Object=} opt_eventObj An object with data that should be on the\n *   triggered event's payload.\n */\nexport function triggerEvent(element, eventName, opt_eventObj) {\n\tif (isAbleToInteractWith_(element, eventName)) {\n\t\tvar eventObj = document.createEvent('HTMLEvents');\n\t\teventObj.initEvent(eventName, true, true);\n\t\tobject.mixin(eventObj, opt_eventObj);\n\t\telement.dispatchEvent(eventObj);\n\t}\n}\n\n/**\n * Triggers the given listeners array.\n * @param {Array<!function()>} listeners\n * @param {!Event} event\n * @param {!Element} element\n * @param {!Array} defaultFns Array to collect default listeners in, instead\n *     of running them.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction triggerListeners_(listeners, event, element, defaultFns) {\n\tvar ret = true;\n\tlisteners = listeners || [];\n\tfor (var i = 0; i < listeners.length && !event.stoppedImmediate; i++) {\n\t\tif (listeners[i].defaultListener_) {\n\t\t\tdefaultFns.push({\n\t\t\t\telement,\n\t\t\t\tfn: listeners[i]\n\t\t\t});\n\t\t} else {\n\t\t\tret &= listeners[i](event);\n\t\t}\n\t}\n\treturn ret;\n}\n\n/**\n * Triggers all listeners for the given event type that are stored in the\n * specified element.\n * @param {!Element} container\n * @param {!Element} element\n * @param {!Event} event\n * @param {!Array} defaultFns Array to collect default listeners in, instead\n *     of running them.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction triggerMatchedListeners_(container, element, event, defaultFns) {\n\tif (event.type === 'click' && event.button === 2) {\n\t\t// Firefox triggers \"click\" events on the document for right clicks. This\n\t\t// causes our delegate logic to trigger it for regular elements too, which\n\t\t// shouldn't happen. Ignoring them here.\n\t\treturn;\n\t}\n\n\tvar data = domData.get(element);\n\tvar listeners = data.listeners[event.type];\n\tvar ret = triggerListeners_(listeners, event, element, defaultFns);\n\n\tvar selectorsMap = domData.get(container).delegating[event.type].selectors;\n\tvar selectors = Object.keys(selectorsMap);\n\tfor (var i = 0; i < selectors.length && !event.stoppedImmediate; i++) {\n\t\tif (match(element, selectors[i])) {\n\t\t\tlisteners = selectorsMap[selectors[i]];\n\t\t\tret &= triggerListeners_(listeners, event, element, defaultFns);\n\t\t}\n\t}\n\n\treturn ret;\n}\n"],"sourceRoot":"/source/"}